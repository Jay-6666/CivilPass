# scoring_criteria.py

from typing import Dict

SCORING_RULES = {
    "æ¦‚æ‹¬é¢˜": {
        "é—®æ³•å…³é”®è¯": ["æ¦‚æ‹¬","æ€»ç»“","ç®€è¦è¯´æ˜","å½’çº³","æç‚¼","æå–","æ¢³ç†","å…³é”®è¦ç´ ","æ ¸å¿ƒä¿¡æ¯","ä¸»è¦ç‰¹å¾","å·®å¼‚æ¯”è¾ƒ","æ•°æ®æ•´åˆ"],
        "è¯„åˆ†ç»´åº¦": {
            "å†…å®¹è¦ç‚¹": {
                "ä¿¡æ¯è¦†ç›–": {
                    "è¯´æ˜": "æ˜¯å¦è¦†ç›–ææ–™ä¸­æ‰€æœ‰åº”æ¦‚æ‹¬çš„æ ¸å¿ƒè¦ç´ ",
                    "æ‰£åˆ†è§„åˆ™": "æ¯é—æ¼1ä¸ªå…³é”®ç‚¹æ‰£2åˆ†",
                    "å»ºè®®": "å…¨é¢æç‚¼ææ–™ï¼Œå‹¿é—æ¼å…³é”®è¯å¥"
                },
                "è¦ç‚¹å‡†ç¡®": {
                    "è¯´æ˜": "æ¦‚æ‹¬æ˜¯å¦ä¸åŸæ„ä¸€è‡´ï¼Œæœªæ­ªæ›²ææ–™å«ä¹‰",
                    "æ‰£åˆ†è§„åˆ™": "é”™è¯¯æ¦‚æ‹¬æˆ–è¡¨è¾¾åå·® æ¯å¤„æ‰£2åˆ†",
                    "å»ºè®®": "æ ¸å¯¹åŸæ–‡ï¼Œç¡®ä¿ç”¨è¯è´´åˆææ–™"
                }
            },
            "ç»“æ„é€»è¾‘": {
                "æ¡ç†æ¸…æ™°": {
                    "è¯´æ˜": "æ˜¯å¦åˆ†æ¡åˆ—ä¸¾ã€ç»“æ„åˆç†",
                    "æ‰£åˆ†è§„åˆ™": "æœªåˆ†æ¡åˆ—å‡ºï¼Œæˆ–æ¡ç†æ··ä¹± æ‰£1-2åˆ†",
                    "å»ºè®®": "ä½¿ç”¨åºå·ã€å…ˆæ€»ååˆ†ï¼Œé€»è¾‘æ¸…æ¥š"
                },
                "åˆ†ç±»åˆç†": {
                    "è¯´æ˜": "æ˜¯å¦æŒ‰é—®é¢˜ã€åŸå› ã€å¯¹ç­–ç­‰åˆ†ç±»æœ‰åº",
                    "æ‰£åˆ†è§„åˆ™": "åˆ†ç±»ä¸æ¸…ï¼Œå†…å®¹äº¤å‰é‡å  æ¯ç±»æ‰£2åˆ†",
                    "å»ºè®®": "æ³¨æ„åŒç±»åˆå¹¶ï¼Œå¼‚ç±»åŒºåˆ†"
                }
            },
            "è¯­è¨€è¡¨è¾¾": {
                "ç®€æ´å‡ç»ƒ": {
                    "è¯´æ˜": "æ˜¯å¦å»é™¤å†—ä½™ï¼Œä½¿ç”¨çŸ­å¥è¡¨è¾¾",
                    "æ‰£åˆ†è§„åˆ™": "å¥å­å†—é•¿ã€é‡å¤æ‰£1-2åˆ†",
                    "å»ºè®®": "å»æ‰é‡å¤ä¿®é¥°è¯­ï¼Œç›´å¥”ä¸»é¢˜"
                },
                "ä¹¦å†™è§„èŒƒ": {
                    "è¯´æ˜": "è¯­è¨€é€šé¡ºã€æ— è¯­ç—…ã€æ ‡ç‚¹è§„èŒƒ",
                    "æ‰£åˆ†è§„åˆ™": "é”™åˆ«å­—/è¯­ç—… â‰¥3å¤„æ‰£1åˆ†ï¼›æ¶‚æ”¹ â‰¥3å¤„æ‰£1åˆ†",
                    "å»ºè®®": "é€šè¯»å…¨æ–‡ï¼Œé¿å…è¯­æ³•é”™è¯¯"
                }
            },
            "æ ¼å¼è§„èŒƒ": {
                "åºå·æ ‡æ³¨": {
                    "è¯´æ˜": "æ˜¯å¦ä½¿ç”¨1.2.3.æˆ–â‘ â‘¡â‘¢ç­‰æ¸…æ™°ç¼–å·",
                    "æ‰£åˆ†è§„åˆ™": "ç¼ºç¼–å·æˆ–ç¼–å·æ··ä¹± æ‰£1åˆ†",
                    "å»ºè®®": "å»ºè®®ç»Ÿä¸€ç”¨1.2.3.ç¼–å·ï¼Œæ¸…æ™°æœ‰åº"
                },
                "é‡ç‚¹å‰ç½®": {
                    "è¯´æ˜": "æ˜¯å¦å°†å…³é”®å†…å®¹æ”¾åœ¨æ¯æ¡å¼€å¤´",
                    "æ‰£åˆ†è§„åˆ™": "æ¯æ¡é‡ç‚¹ä¸åœ¨é¦–å¥ æ‰£1åˆ†",
                    "å»ºè®®": "å…ˆç‚¹å‡ºæ ¸å¿ƒï¼Œå†è¡¥å……è¯´æ˜"
                }
            }
        }
    },
    "å¯¹ç­–é¢˜": {
        "é—®æ³•å…³é”®è¯": ["å¯¹ç­–","å¯ç¤º","å»ºè®®","æªæ–½","å¦‚ä½•åº”å¯¹","æ€ä¹ˆåš","å¯è¡Œæ€§æ–¹æ¡ˆ","é£é™©é˜²æ§é¢„æ¡ˆ","æ•°å­—åŒ–æ²»ç†","æµç¨‹å†é€ ","åˆ¶åº¦åˆ›æ–°","è¯•ç‚¹æ¨å¹¿","æˆæœ¬æ”¶ç›Šåˆ†æ"],
        "è¯„åˆ†ç»´åº¦": {
            "é—®é¢˜è¯†åˆ«": {
                "å…¨é¢è¯†åˆ«é—®é¢˜": {
                    "è¯´æ˜": "æ˜¯å¦å®Œæ•´æ¦‚æ‹¬ææ–™ä¸­å‡ºç°çš„å…¨éƒ¨é—®é¢˜ç°è±¡",
                    "æ‰£åˆ†è§„åˆ™": "æ¯æ¼ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "å…ˆå®¡é¢˜å¹²æ˜¯å¦è¦æ±‚'æå‡ºé—®é¢˜'ï¼Œå†ç»“åˆææ–™ç»†è¯»æç‚¼"
                },
                "é—®é¢˜è¡¨è¿°å‡†ç¡®": {
                    "è¯´æ˜": "æè¿°æ˜¯å¦å®¢è§‚ã€æ˜ç¡®ã€æ— å¤¸å¼ ä¸»è§‚è‰²å½©",
                    "æ‰£åˆ†è§„åˆ™": "è¡¨è¿°æ¨¡ç³Šã€åé¢˜ï¼Œæ‰£2åˆ†/å¤„",
                    "å»ºè®®": "ç”¨'å­˜åœ¨...é—®é¢˜'ã€'å½“å‰...ç°è±¡è¾ƒçªå‡º'ç­‰ä¸­æ€§æè¿°"
                }
            },
            "å¯¹ç­–è®¾è®¡": {
                "é’ˆå¯¹æ€§å¼º": {
                    "è¯´æ˜": "å¯¹ç­–æ˜¯å¦ä¸é—®é¢˜ä¸€ä¸€å¯¹åº”ï¼Œè§£å†³ç›®æ ‡æ˜ç¡®",
                    "æ‰£åˆ†è§„åˆ™": "ç¼ºä¹å¯¹åº”æ€§æˆ–ç©ºæ³›æ³›è®²ï¼Œæ¯å¯¹ä¸å‡†æ‰£2åˆ†",
                    "å»ºè®®": "ä¸€ä¸ªé—®é¢˜é…ä¸€ä¸ªç²¾å‡†æªæ–½ï¼Œå¿…è¦æ—¶æ ‡æ˜'é’ˆå¯¹...é—®é¢˜ï¼Œå¯...'"
                },
                "æ“ä½œå¯è¡Œ": {
                    "è¯´æ˜": "æªæ–½æ˜¯å¦å…·ä½“ã€å®é™…ã€å…·å¤‡æ‰§è¡Œæ€§",
                    "æ‰£åˆ†è§„åˆ™": "å‡ºç°ç©ºæ´å¤§è¯ã€æ— æ³•è½åœ° æ‰£2åˆ†/æ¡",
                    "å»ºè®®": "ç”¨'å»ºç«‹æœºåˆ¶'ã€'å¼ºåŒ–ç›‘ç®¡'ç­‰åŠ¡å®æªè¾"
                },
                "ä¸»ä½“æ˜ç¡®": {
                    "è¯´æ˜": "æ˜¯å¦æ˜ç¡®ç”±è°æ‰§è¡Œï¼ˆæ”¿åºœ/ä¼ä¸š/ä¸ªäººç­‰ï¼‰",
                    "æ‰£åˆ†è§„åˆ™": "æ— æ‰§è¡Œä¸»ä½“ï¼Œæˆ–é”™é…ä¸»ä½“ï¼Œæ¯å¤„æ‰£1åˆ†",
                    "å»ºè®®": "é¢˜å¹²æœ‰èº«ä»½é™åˆ¶æ—¶åŠ¡å¿…ç…§é¡¾æ¸…æ¥šï¼Œå¦‚'å‡å¦‚ä½ æ˜¯...'ï¼Œæªæ–½è¦è´´åˆè§’è‰²"
                }
            },
            "ç»“æ„é€»è¾‘": {
                "æ¡ç†æ¸…æ™°": {
                    "è¯´æ˜": "å†…å®¹åˆ†å±‚æ˜ç¡®ï¼Œç»“æ„æ¸…æ¥šï¼Œå±‚æ¬¡åˆ†æ˜",
                    "æ‰£åˆ†è§„åˆ™": "ç»“æ„æ··ä¹±æˆ–æ— å±‚æ¬¡æ„Ÿ æ‰£1-2åˆ†",
                    "å»ºè®®": "å»ºè®®ä½¿ç”¨'1.2.3.'ç¼–å·æˆ–æ€»åˆ†ç»“æ„ç»„ç»‡å†…å®¹"
                },
                "åˆ†ç±»åˆç†": {
                    "è¯´æ˜": "æ˜¯å¦æ ¹æ®é—®é¢˜å±æ€§/è§£å†³è§’åº¦åˆç†åˆ†ç»„",
                    "æ‰£åˆ†è§„åˆ™": "åˆ†ç±»æ··ä¹±ï¼Œå†…å®¹äº¤å‰ï¼Œæ¯ç±»æ‰£2åˆ†",
                    "å»ºè®®": "å¯æŒ‰ä¸»ä½“ï¼ˆæ”¿åºœã€ä¼ä¸šã€å…¬ä¼—ï¼‰æˆ–è·¯å¾„ï¼ˆæ³•å¾‹ã€æŠ€æœ¯ã€å®£ä¼ ï¼‰åˆ†ç±»"
                }
            },
            "è¯­è¨€è¡¨è¾¾": {
                "ç²¾å‡†è¡¨è¾¾": {
                    "è¯´æ˜": "æ˜¯å¦ä½¿ç”¨å‡†ç¡®æœ¯è¯­ï¼Œå¥å¼è§„èŒƒ",
                    "æ‰£åˆ†è§„åˆ™": "é”™è¯ã€ç—…å¥ã€è¡¨è¾¾æ··ä¹± æ¯å¤„æ‰£1åˆ†",
                    "å»ºè®®": "å»ºè®®ä½¿ç”¨æ”¿ç­–æœ¯è¯­æˆ–è¡Œæ”¿è¯­è¨€ï¼Œå¦‚'åˆ¶åº¦è®¾è®¡'ã€'èŒè´£è½å®'"
                },
                "ä¹¦å†™è§„èŒƒ": {
                    "è¯´æ˜": "æ˜¯å¦å­˜åœ¨é”™åˆ«å­—ã€æ ‡ç‚¹é”™è¯¯ã€è¯­ç—…",
                    "æ‰£åˆ†è§„åˆ™": "é”™åˆ«å­—/è¯­ç—… â‰¥3å¤„ æ‰£1åˆ†ï¼›æ¶‚æ”¹â‰¥3å¤„å†æ‰£1åˆ†",
                    "å»ºè®®": "é€šè¯»å…¨æ–‡ï¼Œé¿å…åŸºæœ¬è¯­ç—…å’Œä¹¦å†™å¤±è¯¯"
                }
            },
            "æ ¼å¼è§„èŒƒ": {
                "åºå·è§„èŒƒ": {
                    "è¯´æ˜": "æ˜¯å¦ç»Ÿä¸€ç¼–å·å¦‚'1.2.3.'æˆ–'ï¼ˆä¸€ï¼‰ï¼ˆäºŒï¼‰'",
                    "æ‰£åˆ†è§„åˆ™": "æ— ç¼–å·ã€ç¼–å·æ··ä¹± æ‰£1åˆ†",
                    "å»ºè®®": "å»ºè®®ç»Ÿä¸€ç¼–å·é£æ ¼ï¼Œä¾¿äºé˜…å·è¯„åˆ†"
                },
                "é‡ç‚¹å‰ç½®": {
                    "è¯´æ˜": "æ¯æ¡å¼€å¤´æ˜¯å¦çªå‡ºå¯¹ç­–å…³é”®è¯",
                    "æ‰£åˆ†è§„åˆ™": "æ¯æ¡å¯¹ç­–æœªå…ˆå†™é‡ç‚¹ æ‰£1åˆ†",
                    "å»ºè®®": "å…ˆå†™'å¥å…¨...æœºåˆ¶'ï¼Œå†è¡¥å……ç»†èŠ‚ï¼Œä¾¿äºå¿«é€Ÿé˜…å·"
                }
            }
        }
    },
    "åˆ†æé¢˜": {
        "é—®æ³•å…³é”®è¯": ["æ€ä¹ˆçœ‹","æ€ä¹ˆçœ‹å¾…","ç†è§£","åˆ†æ","è¯„ä»·","è®¤è¯†","è¾©è¯åˆ†æ","æ²»ç†å›°å¢ƒ","ä»·å€¼å†²çª","æ”¿ç­–æ•ˆåº”è¯„ä¼°","åˆ©ç›Šç›¸å…³è€…åˆ†æ","åˆ¶åº¦ä¼¦ç†æ¢è®¨","æ½œåœ¨å½±å“"],
        "è¯„åˆ†ç»´åº¦": {
            "ç»“æ„å®Œæ•´": {
                "ä¸‰æ®µè¦ç´ é½å…¨": {
                    "è¯´æ˜": "æ˜¯å¦å…·å¤‡'è§£é‡Š + åˆ†æ + æ€»ç»“'ç»“æ„",
                    "æ‰£åˆ†è§„åˆ™": "ç¼ºä»»æ„éƒ¨åˆ†ï¼Œæ¯å¤„æ‰£3åˆ†",
                    "å»ºè®®": "å»ºè®®ä½¿ç”¨'æˆ‘ç†è§£ä¸º...â†’åŸå› æ˜¯...â†’å¯ç¤ºæ˜¯...'ç»“æ„"
                },
                "å¼€å¤´è¡¨æ€æ¸…æ™°": {
                    "è¯´æ˜": "é¦–æ®µæ˜¯å¦æœ‰æ˜ç¡®çš„ä¸­å¿ƒè§‚ç‚¹æˆ–æ€åº¦",
                    "æ‰£åˆ†è§„åˆ™": "æœªæ˜ç¡®è¡¨æ€æˆ–åé¢˜ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "ç¬¬ä¸€å¥è¯å¼€é—¨è§å±±è¡¨æ€ï¼Œæœ‰åˆ©äºç»“æ„å±•å¼€"
                }
            },
            "å†…æ¶µç†è§£": {
                "å‡†ç¡®è§£é‡Šè¯å¥": {
                    "è¯´æ˜": "æ˜¯å¦å‡†ç¡®è¿˜åŸå…³é”®è¯/å¥çš„æœ¬æ„",
                    "æ‰£åˆ†è§„åˆ™": "è§£é‡Šç‰‡é¢ã€è¯¯è§£åŸæ„ï¼Œæ‰£2-3åˆ†",
                    "å»ºè®®": "å¯å…ˆè§£é‡Šå­—é¢ï¼Œå†è”ç³»æ·±å±‚å«ä¹‰"
                },
                "ç†è®ºæ”¯æ’‘æ¸…æ™°": {
                    "è¯´æ˜": "æ˜¯å¦ç»“åˆæ”¿ç­–ã€é“ç†ã€å¸¸è¯†è¿›è¡Œç†è®ºåˆ†æ",
                    "æ‰£åˆ†è§„åˆ™": "æ²¡æœ‰æ”¯æ’‘ä»…ä½œæ„Ÿæ€§æè¿°ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "ç”¨'è¿™æ˜¯å› ä¸º...'ã€'ä½“ç°çš„æ˜¯...'ç­‰è¿›è¡Œæ‰©å±•"
                }
            },
            "å¤–å»¶åˆ†æ": {
                "ç´§æ‰£ææ–™": {
                    "è¯´æ˜": "æ˜¯å¦å¼•ç”¨ææ–™è¿›è¡Œæ¡ˆä¾‹è®ºè¯æˆ–å¯¹æ¯”è¯´æ˜",
                    "æ‰£åˆ†è§„åˆ™": "æœªå¼•ç”¨ææ–™æˆ–å¼•ç”¨å¤±å½“ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "ä½¿ç”¨'ææ–™ä¸­æåˆ°çš„...è¯´æ˜äº†...'å¥å¼"
                },
                "è”ç³»ç°å®": {
                    "è¯´æ˜": "æ˜¯å¦ç»“åˆå½“ä¸‹ç¤¾ä¼šç°è±¡ã€æ¡ˆä¾‹ã€çƒ­ç‚¹è¯é¢˜åˆ†æ",
                    "æ‰£åˆ†è§„åˆ™": "æ³›æ³›è€Œè°ˆã€è„±ç¦»å®é™…ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "ç»“åˆç¤¾ä¼šçƒ­ç‚¹ã€æ”¹é©ä¸¾æªã€åŸºå±‚æ¡ˆä¾‹å¢å¼ºè¯´æœåŠ›"
                }
            },
            "è®ºè¯é€»è¾‘": {
                "é€’è¿›æœ‰åº": {
                    "è¯´æ˜": "æ˜¯å¦ä»è§£é‡Šâ€”åˆ†æâ€”æ€»ç»“å±‚å±‚æ¨è¿›",
                    "æ‰£åˆ†è§„åˆ™": "è®ºç‚¹è·³è·ƒã€æ— è¿‡æ¸¡å¥ï¼Œæ‰£1-2åˆ†",
                    "å»ºè®®": "åˆç†ä½¿ç”¨'é¦–å…ˆ-å…¶æ¬¡-æœ€å'ç­‰è¿æ¥è¯"
                },
                "è§‚ç‚¹ç»Ÿä¸€": {
                    "è¯´æ˜": "å…¨æ–‡è§‚ç‚¹ä¸€è‡´ï¼Œä¸è‡ªç›¸çŸ›ç›¾",
                    "æ‰£åˆ†è§„åˆ™": "é¦–å°¾è§‚ç‚¹ä¸ä¸€è‡´ã€æ¨¡æ£±ä¸¤å¯ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "é¦–æ®µå’Œæœ«æ®µå›æ‰£è§‚ç‚¹ï¼Œé¿å…ç«‹åœºæ‘‡æ‘†"
                }
            },
            "è¯­è¨€è¡¨è¾¾": {
                "é€»è¾‘é€šé¡º": {
                    "è¯´æ˜": "å¥å­æ˜¯å¦é€šé¡ºï¼Œè¡¨è¾¾æ˜¯å¦æµç•…",
                    "æ‰£åˆ†è§„åˆ™": "è¡¨è¾¾æ··ä¹±ã€é€»è¾‘æ–­è£‚ï¼Œæ‰£1-2åˆ†",
                    "å»ºè®®": "ä½¿ç”¨è¿æ¥è¯ï¼Œå‡å°‘ä¸»è¯­ä¸æ¸…æˆ–é‡å¤å¥å¼"
                },
                "ç”¨è¯è§„èŒƒ": {
                    "è¯´æ˜": "è¯­è¨€æ˜¯å¦æ­£å¼ã€ä¹¦é¢åŒ–ã€æ— ç—…å¥",
                    "æ‰£åˆ†è§„åˆ™": "é”™åˆ«å­—/ç—…å¥ â‰¥3 æ‰£1åˆ†",
                    "å»ºè®®": "æ³¨æ„ç”¨è¯æ”¿æ²»æ­£ç¡®ï¼Œå¦‚'å®ç°å…±åŒå¯Œè£•'"
                }
            },
            "æ ¼å¼è§„èŒƒ": {
                "æ®µè½åˆ†æ˜": {
                    "è¯´æ˜": "æ˜¯å¦ä¸‰æ®µåˆ†æ˜ï¼Œæ®µä¸æ®µä¹‹é—´è¿‡æ¸¡è‡ªç„¶",
                    "æ‰£åˆ†è§„åˆ™": "æ— æ˜æ˜¾åˆ†æ®µ/ä¸€æ®µåˆ°åº•ï¼Œæ‰£1åˆ†",
                    "å»ºè®®": "å»ºè®®è§£é‡Šä¸€æ®µã€åˆ†æä¸€æ®µã€æ€»ç»“ä¸€æ®µ"
                },
                "é‡ç‚¹çªå‡º": {
                    "è¯´æ˜": "æ¯æ®µé¦–å¥æ˜¯å¦ç‚¹æ˜å°è®ºç‚¹æˆ–åˆ†æé‡å¿ƒ",
                    "æ‰£åˆ†è§„åˆ™": "é‡ç‚¹åŸ‹åœ¨æ®µä¸­æˆ–æ¨¡ç³Šä¸æ¸…ï¼Œæ‰£1åˆ†",
                    "å»ºè®®": "æ¯æ®µå¼€å¤´å†™'å½“å‰...'ï¼Œ'æœ¬è´¨åœ¨äº...'å¼•å‡ºä¸»é¢˜"
                }
            }
        }
    },
    "åº”ç”¨æ–‡": {
        "é—®æ³•å…³é”®è¯": ["å†™ä¸€ä»½","å†™ä¸€å°","å†™ä¸€åˆ™","å†™ä¸€ç¯‡","é€šçŸ¥","å€¡è®®ä¹¦","æ”¿åŠ¡çŸ­è¯„","æ”¿ç­–è§£è¯»ç¨¿","è°ƒç ”æŠ¥å‘Šæ‘˜è¦","æ–°é—»å‘å¸ƒä¼šé€šç¨¿","ç»éªŒäº¤æµå‘è¨€ç¨¿","çªå‘äº‹ä»¶åº”å¯¹æ–¹æ¡ˆ"],
        "è¯„åˆ†ç»´åº¦": {
            "ç»“æ„æ ¼å¼": {
                "æ ¼å¼è¦ç´ é½å…¨": {
                    "è¯´æ˜": "æ˜¯å¦å…·å¤‡æ ‡é¢˜ã€ç§°è°“ã€æ­£æ–‡ã€è½æ¬¾ç­‰å››è¦ç´ ï¼ˆå¦‚é¢˜å¹²è¦æ±‚ï¼‰",
                    "æ‰£åˆ†è§„åˆ™": "ç¼ºå°‘ä»»ä¸€è¦ç´ ï¼Œæ‰£3åˆ†/é¡¹",
                    "å»ºè®®": "æ ¼å¼ç»Ÿä¸€è§„èŒƒï¼Œç¡®ä¿å››è¦ç´ å®Œæ•´"
                },
                "æ ‡é¢˜è§„èŒƒ": {
                    "è¯´æ˜": "æ ‡é¢˜æ˜¯å¦å±…ä¸­ã€è‡ªæ‹Ÿæ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œå¦‚'å…³äº...çš„...'",
                    "æ‰£åˆ†è§„åˆ™": "ä½ç½®é”™è¯¯ã€å‘½åä¸å½“ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "è‡ªæ‹Ÿæ ‡é¢˜å»ºè®®é‡‡ç”¨'å…³äº+å†…å®¹+çš„+æ–‡ç§'ç»“æ„"
                },
                "ç§°è°“å¾—å½“": {
                    "è¯´æ˜": "æ˜¯å¦æ ¹æ®èº«ä»½å’Œå†™ä½œå¯¹è±¡ä½¿ç”¨æ°å½“ç§°å‘¼",
                    "æ‰£åˆ†è§„åˆ™": "ç§°è°“ä¸åŒ¹é…èº«ä»½ã€å¯¹è±¡é”™è¯¯ï¼Œæ‰£1åˆ†",
                    "å»ºè®®": "å¦‚ä¸ºç¾¤ä¼—å†™ï¼š'å¹¿å¤§å¸‚æ°‘æœ‹å‹ä»¬ï¼š'ï¼›å¦‚ä¸ºä¸Šçº§å†™ï¼š'å„ä½é¢†å¯¼ï¼š'"
                }
            },
            "å†…å®¹å¥‘åˆ": {
                "ç›®çš„æ˜ç¡®": {
                    "è¯´æ˜": "æ˜¯å¦æ˜ç¡®è¡¨è¾¾å†™ä½œç›®çš„ï¼Œå¦‚å®£ä¼ ã€å·å¬ã€ä»‹ç»ã€æ€»ç»“ç­‰",
                    "æ‰£åˆ†è§„åˆ™": "ç›®çš„æ¨¡ç³Šæˆ–æ— ä¸»æ—¨ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "å¼€å¤´æ˜ç¡®äº¤ä»£ç›®çš„ï¼Œä¾‹å¦‚'ä¸ºè´¯å½»...'ï¼Œæˆ‘å•ä½å†³å®š...'"
                },
                "èº«ä»½è´´åˆ": {
                    "è¯´æ˜": "æ˜¯å¦ä»é¢˜å¹²è®¾å®šè§’è‰²è§’åº¦å‘è¨€ï¼Œé¿å…è§’è‰²é”™ä½",
                    "æ‰£åˆ†è§„åˆ™": "è§’è‰²é”™ç”¨ç¬¬ä¸€/ç¬¬ä¸‰äººç§°ï¼Œæˆ–è„±ç¦»èº«ä»½è§†è§’ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "å‡å¦‚ä½ æ˜¯'é•‡é•¿'ï¼Œå°±ç”¨'æˆ‘é•‡å°†...'çš„è¡¨è¾¾æ–¹å¼"
                },
                "ææ–™å…³è”": {
                    "è¯´æ˜": "æ˜¯å¦å¼•ç”¨æˆ–å›åº”ææ–™ä¸­æ ¸å¿ƒå†…å®¹",
                    "æ‰£åˆ†è§„åˆ™": "æ— ææ–™æ”¯æ’‘ï¼Œå†…å®¹è„±èŠ‚ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "å›´ç»•ææ–™å…³é”®ä¿¡æ¯å±•å¼€ï¼Œå¦‚'ææ–™æŒ‡å‡º...ï¼Œä¸ºæ­¤æˆ‘å»ºè®®...'"
                }
            },
            "ç»“æ„é€»è¾‘": {
                "å†…å®¹åˆ†æ®µåˆç†": {
                    "è¯´æ˜": "æ˜¯å¦æŒ‰é—®é¢˜-æªæ–½-æ•ˆæœç­‰é€»è¾‘å®‰æ’æ®µè½",
                    "æ‰£åˆ†è§„åˆ™": "ç»“æ„æ··ä¹±ã€æ®µè½æ‚ç³…ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "å»ºè®®ä½¿ç”¨'ç°çŠ¶+æªæ–½+å¸Œæœ›'ä¸‰æ®µå¼ç»“æ„"
                },
                "æ¡ç†æ¸…æ™°": {
                    "è¯´æ˜": "æ˜¯å¦ä½¿ç”¨åºå·/åˆ†æ¡/è¿‡æ¸¡è¯æ¸…æ™°å±•ç°é€»è¾‘",
                    "æ‰£åˆ†è§„åˆ™": "è¡¨è¾¾æ‚ä¹±æ— åºï¼Œç¼ºä¹å±‚çº§æ„Ÿï¼Œæ‰£1-2åˆ†",
                    "å»ºè®®": "ä½¿ç”¨'ä¸€æ˜¯...ï¼ŒäºŒæ˜¯...'ã€'é¦–å…ˆ...å…¶æ¬¡...æœ€å...'ç­‰"
                },
                "å†…å®¹å®Œæ•´": {
                    "è¯´æ˜": "æ˜¯å¦ä»èµ·å› ã€ä»»åŠ¡ã€ç›®æ ‡ç­‰ç»´åº¦å…¨é¢å±•å¼€",
                    "æ‰£åˆ†è§„åˆ™": "å†…å®¹å•è–„æˆ–ç¼ºé¡¹ï¼Œæ‰£2-3åˆ†",
                    "å»ºè®®": "é€‚å½“æ‹“å±•èƒŒæ™¯ã€æªæ–½ä¸ç»“è¯­å‘¼å"
                }
            },
            "è¯­è¨€è¡¨è¾¾": {
                "æ–‡ç§é£æ ¼åŒ¹é…": {
                    "è¯´æ˜": "æ˜¯å¦ä½“ç°å‡ºè¯¥æ–‡ç§çš„é£æ ¼ï¼Œå¦‚æ­£å¼åº„é‡ã€äº²åˆ‡æœ‰å·å¬åŠ›ç­‰",
                    "æ‰£åˆ†è§„åˆ™": "è¯­è¨€é£æ ¼é”™ä½ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "å€¡è®®ä¹¦ç”¨'å€¡è®®å¤§å®¶...'ï¼Œæ–¹æ¡ˆç”¨'æˆ‘ä»¬å°†é‡‡å–...'"
                },
                "è¯­è¨€è§„èŒƒé€šé¡º": {
                    "è¯´æ˜": "è¯­å¥æ˜¯å¦é€šé¡ºï¼Œæ— è¯­ç—…ã€é”™åˆ«å­—ã€å†—è¯",
                    "æ‰£åˆ†è§„åˆ™": "é”™åˆ«å­—/ç—…å¥ â‰¥3 æ‰£1åˆ†ï¼›å¥å¼é‡å¤ã€å†—ä½™ æ‰£1åˆ†",
                    "å»ºè®®": "é¿å…ç™½è¯ã€ä¿šè¯­ï¼Œä¿æŒæ­£å¼è¡¨è¾¾"
                }
            },
            "è¡¨è¾¾é‡ç‚¹": {
                "å…³é”®è¯å‰ç½®": {
                    "è¯´æ˜": "æ¯æ¡æªæ–½æˆ–è§‚ç‚¹å¼€å¤´æ˜¯å¦ç‚¹æ˜é‡ç‚¹å†…å®¹",
                    "æ‰£åˆ†è§„åˆ™": "æ¯æ¡é‡ç‚¹åŸ‹è—åœ¨å¥ä¸­æˆ–æœ«å°¾ æ‰£1åˆ†",
                    "å»ºè®®": "å†™ä½œæ—¶é‡‡ç”¨'ä¸ºæ­¤ï¼Œæˆ‘ä»¬åº”...'æˆ–'å»ºè®®å¦‚ä¸‹ï¼š1...'"
                },
                "åˆ†ç±»æ˜æ™°": {
                    "è¯´æ˜": "æ˜¯å¦å°†ä¸åŒç±»å‹å†…å®¹åˆ†åˆ«åˆ—å‡ºï¼Œåˆ†ç±»åˆç†",
                    "æ‰£åˆ†è§„åˆ™": "ç±»åˆ«äº¤å‰ã€æ··ä¹±ã€é‡å¤ æ¯ç±»æ‰£1-2åˆ†",
                    "å»ºè®®": "å¦‚æŒ‰æªæ–½ï¼šæ”¿ç­–ç±»ã€ç»„ç»‡ç±»ã€å®£ä¼ ç±»"
                }
            }
        }
    },
    "å¤§ä½œæ–‡": {
        "é—®æ³•å…³é”®è¯": ["å†™ä¸€ç¯‡æ–‡ç« ","è‡ªæ‹Ÿé¢˜ç›®","ä¸­å›½å¼ç°ä»£åŒ–","é«˜è´¨é‡å‘å±•","å…±åŒå¯Œè£•","æ•°å­—æ”¿åºœ","æ²»ç†ç°ä»£åŒ–","å®ˆæ­£ä¸åˆ›æ–°","æ”¹é©æ–¹æ³•è®º","å‘å±•ä¸å®‰å…¨","æ–‡åŒ–è‡ªä¿¡","ç”Ÿæ€æ–‡æ˜"],
        "è¯„åˆ†ç»´åº¦": {
            "ç«‹æ„æ·±åº¦": {
                "ä¸»é¢˜å‡†ç¡®": {
                    "è¯´æ˜": "æ˜¯å¦å‡†ç¡®æŠŠæ¡ææ–™æ ¸å¿ƒè§‚ç‚¹ï¼Œç«‹æ„ä¸åé¢˜",
                    "æ‰£åˆ†è§„åˆ™": "ç«‹æ„åç¦»ææ–™ä¸­å¿ƒï¼Œæ‰£5åˆ†ä»¥ä¸Š",
                    "å»ºè®®": "ä»ææ–™ä¸­æç‚¼å…³é”®è¯ï¼Œå¦‚'è´£ä»»'ã€'äººæ°‘'ã€'æ”¹é©'ï¼Œå†å‡åä¸»é¢˜"
                },
                "æ€æƒ³æ·±åˆ»": {
                    "è¯´æ˜": "æ˜¯å¦æŒ–æ˜å‡ºæœ¬è´¨é—®é¢˜ã€ç¤¾ä¼šæ„ä¹‰ã€æ·±å±‚é€»è¾‘",
                    "æ‰£åˆ†è§„åˆ™": "æ³›æ³›è€Œè°ˆã€è¡¨é¢è§£è¯»ï¼Œæ‰£3-4åˆ†",
                    "å»ºè®®": "ä½¿ç”¨'æœ¬è´¨åœ¨äº...'ã€'ä½“ç°çš„æ˜¯...'ç­‰è¿›è¡Œæ·±åº¦å‡å"
                },
                "æ ‡é¢˜è´´åˆ‡": {
                    "è¯´æ˜": "æ ‡é¢˜æ˜¯å¦ç´§æ‰£ä¸­å¿ƒï¼Œæœ‰å¸å¼•åŠ›åˆä¸è„±ç¦»ä¸»é¢˜",
                    "æ‰£åˆ†è§„åˆ™": "æ ‡é¢˜ç©ºæ³›æˆ–ä¸å†…å®¹è„±èŠ‚ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "é‡‡ç”¨åŒå±‚ç»“æ„å¦‚'è´£ä»»ï¼šç°ä»£ç¤¾ä¼šçš„åŸºçŸ³'"
                }
            },
            "è®ºè¯ä¸¥å¯†": {
                "è®ºç‚¹æ˜ç¡®": {
                    "è¯´æ˜": "æ–‡ç« ä¸»å¼ æ˜¯å¦æ¸…æ™°ã€ç»Ÿä¸€ï¼Œæ®µè½ä¸­å¿ƒçªå‡º",
                    "æ‰£åˆ†è§„åˆ™": "è®ºç‚¹æ¨¡ç³Šã€è§‚ç‚¹åå¤/çŸ›ç›¾ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "é¦–æ®µæå‡ºä¸­å¿ƒè®ºç‚¹ï¼Œæ®µé¦–ç‚¹æ˜å°è®ºç‚¹"
                },
                "è®ºæ®ä¸°å¯Œ": {
                    "è¯´æ˜": "æ˜¯å¦ä½¿ç”¨æ¡ˆä¾‹ã€æ”¿ç­–ã€æ•°æ®ç­‰æ”¯æ’‘è®ºç‚¹",
                    "æ‰£åˆ†è§„åˆ™": "ç¼ºå°‘äº‹å®æ”¯æ’‘ã€ç©ºæ´è¯´ç†ï¼Œæ‰£3åˆ†",
                    "å»ºè®®": "è‡³å°‘ä½¿ç”¨2ä¸ªè´´åˆè®ºç‚¹çš„ææ–™æˆ–ç°å®ä¾‹å­"
                },
                "åˆ†æé€å½»": {
                    "è¯´æ˜": "æ˜¯å¦å¯¹è®ºæ®å±•å¼€å……åˆ†è§£é‡Šã€é˜é‡Šå› æœé€»è¾‘",
                    "æ‰£åˆ†è§„åˆ™": "è®ºæ®å †ç Œã€ç¼ºä¹åˆ†æï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "é€šè¿‡'ä¹‹æ‰€ä»¥...æ˜¯å› ä¸º...'ç»“æ„å±•å¼€æ¨ç†"
                },
                "è¿‡æ¸¡è‡ªç„¶": {
                    "è¯´æ˜": "æ˜¯å¦ä½¿ç”¨è¿æ¥å¥æ‰¿ä¸Šå¯ä¸‹ï¼Œæ®µä¸æ®µé€»è¾‘æµç•…",
                    "æ‰£åˆ†è§„åˆ™": "æ®µè½è·³è·ƒã€ç”Ÿç¡¬è½¬æŠ˜ï¼Œæ‰£1-2åˆ†",
                    "å»ºè®®": "ä½¿ç”¨'é¦–å…ˆã€å…¶æ¬¡ã€æ­¤å¤–ã€æœ€å'ç­‰è¿‡æ¸¡è¯"
                }
            },
            "ç»“æ„å®Œæ•´": {
                "å¼€å¤´å¸å¼•": {
                    "è¯´æ˜": "æ˜¯å¦é¦–æ®µå¼•å‡ºä¸»é¢˜ï¼Œå¼€é—¨è§å±±ã€è®¾é—®æˆ–å¼•ç”¨å¼•å…¥",
                    "æ‰£åˆ†è§„åˆ™": "å†—é•¿é“ºå«ã€æœªå¼•å‡ºä¸»é¢˜ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "å¯ç”¨ææ–™/ç°å®ç°è±¡+è®¾é—®+äº®æ˜è§‚ç‚¹ç»“æ„"
                },
                "æ­£æ–‡æœ‰åº": {
                    "è¯´æ˜": "ä¸»ä½“æ®µå±‚æ¬¡æ¸…æ™°ï¼Œæ¯æ®µ1ä¸ªåˆ†è®ºç‚¹",
                    "æ‰£åˆ†è§„åˆ™": "å†…å®¹æ‚ç³…ã€æ®µå†…è·³è·ƒï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "æ¯æ®µå›´ç»•1ä¸ªæ ¸å¿ƒè§‚ç‚¹å±•å¼€"
                },
                "ç»“å°¾æ·±åŒ–": {
                    "è¯´æ˜": "ç»“å°¾æ˜¯å¦æ€»ç»“å…¨æ–‡ã€å‡åä¸»é¢˜ã€è¡¨è¾¾æƒ…æ€€",
                    "æ‰£åˆ†è§„åˆ™": "ç»“å°¾è‰ç‡ã€é‡å¤è§‚ç‚¹ã€æ— å‡åï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "ä½¿ç”¨'ç»¼ä¸Šæ‰€è¿°...'ã€'æ–°æ—¶ä»£èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬æ›´åº”...'ç­‰å¥å¼"
                }
            },
            "è¯­è¨€è¡¨è¾¾": {
                "è¯­è¨€æµç•…": {
                    "è¯´æ˜": "å¥å­æ˜¯å¦é€šé¡ºè‡ªç„¶ï¼Œè¡¨è¾¾æ¸…æ™°",
                    "æ‰£åˆ†è§„åˆ™": "å¥å¼é‡å¤ã€è¯­ç—…é¢‘å‡ºï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "ä½¿ç”¨å¤å¥å’ŒçŸ­å¥äº¤æ›¿ï¼Œé¿å…å£è¯­åŒ–"
                },
                "æ–‡é‡‡è¡¨ç°": {
                    "è¯´æ˜": "æ˜¯å¦æœ‰è¾ƒå¥½çš„é£è¯é€ å¥ã€ä¿®è¾è¡¨è¾¾ã€å¥å¼å˜åŒ–",
                    "æ‰£åˆ†è§„åˆ™": "è¯­è¨€å•è°ƒå¹³æ·¡ï¼Œæ‰£2åˆ†",
                    "å»ºè®®": "é€‚åº¦ä½¿ç”¨æ’æ¯”ã€æ¯”å–»ã€å¯¹å¶ï¼Œæå‡è¡¨ç°åŠ›"
                },
                "ç”¨è¯è§„èŒƒ": {
                    "è¯´æ˜": "ä¹¦é¢ç”¨è¯­æ˜¯å¦å‡†ç¡®ï¼Œæ— é”™åˆ«å­—æˆ–æ”¿æ²»é”™è¯¯",
                    "æ‰£åˆ†è§„åˆ™": "é”™åˆ«å­—/ç—…å¥â‰¥3å¤„æ‰£1åˆ†ï¼Œæ”¿æ²»ç«‹åœºåå·®ä¸€ç¥¨å¦å†³",
                    "å»ºè®®": "ä½¿ç”¨æ”¿ç­–æœ¯è¯­æˆ–å®˜æ ·è¯­è¨€å¢å¼ºæƒå¨æ€§"
                }
            },
            "ä¹¦å†™ä¸ç¯‡å¹…": {
                "å­—æ•°è¾¾æ ‡": {
                    "è¯´æ˜": "æ˜¯å¦è¾¾åˆ°800å­—å·¦å³ï¼Œåˆ‡å¿Œä¸¥é‡ä¸è¶³",
                    "æ‰£åˆ†è§„åˆ™": "æ¯å°‘50å­—æ‰£1åˆ†ï¼›å°‘äº600å­—æ‰£5åˆ†ä»¥ä¸Š",
                    "å»ºè®®": "æ­£æ–‡æ®µè½è‡³å°‘3æ®µï¼Œæ¯æ®µ150å­—ä»¥ä¸Š"
                },
                "å·é¢æ•´æ´": {
                    "è¯´æ˜": "æ˜¯å¦æ¶‚æ”¹å°‘ã€ä¹¦å†™æ¸…æ™°ã€æ®µè½åˆ†æ˜",
                    "æ‰£åˆ†è§„åˆ™": "å­—è¿¹æ½¦è‰ã€é”™å­—é‡å†™ â‰¥3 æ‰£1åˆ†",
                    "å»ºè®®": "å­—è¿¹ä¸æ±‚ç¾è§‚ä½†è¦è§„æ•´æ¸…æ¥š"
                }
            }
        },
        "åˆ†æ¡£è¯´æ˜": {
            "ä¸€ç±»æ–‡": "31â€“35åˆ†ï¼šç«‹æ„é«˜è¿œï¼Œè®ºè¯æœ‰åŠ›ï¼Œè¯­è¨€ä¼˜ç¾ï¼Œç»“æ„å®Œå¤‡",
            "äºŒç±»æ–‡": "21â€“30åˆ†ï¼šç»“æ„æ¸…æ™°ï¼Œè¯­è¨€é€šé¡ºï¼Œæœ‰ä¸€å®šæ·±åº¦",
            "ä¸‰ç±»æ–‡": "11â€“20åˆ†ï¼šè¡¨è¾¾åŸºæœ¬é€šé¡ºï¼Œä¸»é¢˜æ˜ç¡®ä½†é€»è¾‘è–„å¼±",
            "å››ç±»æ–‡": "6â€“10åˆ†ï¼šç»“æ„æ··ä¹±ï¼Œè¯­è¨€é—®é¢˜æ˜æ˜¾ï¼Œè®ºç‚¹ä¸æ¸…",
            "äº”ç±»æ–‡": "0â€“5åˆ†ï¼šä¸¥é‡è·‘é¢˜ï¼Œå†…å®¹ç©ºæ³›æˆ–é€»è¾‘æ··ä¹±"
        }
    }
}

import re
from collections import defaultdict

def detect_question_type(question: str) -> str:
    """
    æ ¹æ®é¢˜å¹²å†…å®¹ï¼Œè‡ªåŠ¨è¯†åˆ«é¢˜å‹ã€‚
    æ”¯æŒå…³é”®è¯åŒ¹é… + åŒ¹é…å¾—åˆ†æœºåˆ¶ã€‚
    """
    if not question.strip():
        return "æœªçŸ¥é¢˜å‹"

    question = question.strip().replace("\n", "").replace(" ", "")

    scores = {}
    debug_hits = defaultdict(list)

    for q_type, meta in SCORING_RULES.items():
        keywords = meta.get("é—®æ³•å…³é”®è¯", [])
        score = 0
        for kw in keywords:
            if kw in question:
                score += 1
                debug_hits[q_type].append(kw)
        scores[q_type] = score

    # æ‰¾åˆ°å¾—åˆ†æœ€é«˜çš„é¢˜å‹
    best_match = max(scores.items(), key=lambda x: x[1])

    # Debugï¼šæ‰“å°åŒ¹é…æƒ…å†µï¼ˆå¯é€‰ï¼Œéƒ¨ç½²æ—¶å¯æ³¨é‡Šæ‰ï¼‰
    print("ğŸ” åŒ¹é…è¯¦æƒ…ï¼ˆå…³é”®è¯å‘½ä¸­ï¼‰ï¼š")
    for k, v in debug_hits.items():
        print(f"  - {k} å‘½ä¸­ï¼š{v} (å¾—åˆ†ï¼š{scores[k]})")

    if best_match[1] == 0:
        return "æœªçŸ¥é¢˜å‹"
    return best_match[0]


DEFAULT_CRITERIA = {
    "é¢˜å‹": "æœªçŸ¥",
    "è¯„åˆ†ç»´åº¦": {},
    "åˆ†æ¡£è¯´æ˜": {},
    "å…³é”®è¯": []
}


def get_scoring_criteria(question_text: str) -> Dict:
    qtype = detect_question_type(question_text)
    rules = SCORING_RULES.get(qtype)

    if not rules:
        return DEFAULT_CRITERIA

    return {
        "é¢˜å‹": qtype,
        "è¯„åˆ†ç»´åº¦": rules.get("è¯„åˆ†ç»´åº¦", {}),
        "åˆ†æ¡£è¯´æ˜": rules.get("åˆ†æ¡£è¯´æ˜", {}),
        "å…³é”®è¯": rules.get("é—®æ³•å…³é”®è¯", [])
    } 